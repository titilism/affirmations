<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Epunda+Slab:ital,wght@0,300..900;1,300..900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Affirmations</title>
</head>

<body>
      <h2 id="quote">Quote Loading..</h2>
      <h3 id="author">Author details..</h3>
      <button onclick='getQuotes()'>More Quotes</button>
</body>
<script>
  let author = document.getElementById('author');
  let quote = document.getElementById('quote');
    if (localStorage.getItem('visited') == null) {
    console.log('first time');
      alert("You're visiting this site for the first time, You need to allow permission to the API's site! And then come back :)");
    window.open('https://api.quotable.io/quotes/random', "_self");
    localStorage.setItem('visited', 'yes');
  }

  
  function getQuotes() {
    const p = fetch("https://api.quotable.io/quotes/random?tags=life|love");
    p.then(response => response.json())
      .then(data => {
        author.innerHTML = data[0].author;
        quote.innerHTML = data[0].content;
      })
      .catch(err => { console.error('Error', err) });
  }
  getQuotes();
</script>

</html>
